import { Component } from '@angular/core';
import { SidebarComponent, Tool } from '../sidebar/sidebar.component';
import { RouterOutlet } from '@angular/router';
import { ToolStatus } from '~/app/enums/tool-status';

@Component({
    selector: 'app-main-layout',
    templateUrl: './main-layout.component.html',
    styleUrls: ['./main-layout.component.scss'],
    host: {
        class: 'grow flex w-full min-h-screen h-full'
    },
    standalone: true,
    imports: [SidebarComponent, RouterOutlet]
})
export class MainLayoutComponent {
  sidebarCollapsed = false;

  sidebarTools: Tool[] = [
    {
      id: 'database-search',
      name: 'Database Search',
      route: '/database-search',
      status: ToolStatus.RUNNING,
      svgGenerator: (fill: string): string => 
      `
<svg width="21" height="22" viewBox="0 0 21 22" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M9.42378 16.5134C8.12064 16.5134 6.84678 16.127 5.76326 15.403C4.67975 14.6791 3.83525 13.65 3.33656 12.4461C2.83788 11.2422 2.7074 9.91738 2.96163 8.63929C3.21585 7.3612 3.84337 6.18719 4.76483 5.26574C5.68628 4.34429 6.86028 3.71677 8.13837 3.46254C9.41647 3.20831 10.7412 3.33879 11.9452 3.83748C13.1491 4.33617 14.1781 5.18066 14.9021 6.26418C15.6261 7.34769 16.0125 8.62156 16.0125 9.92469C16.0125 10.7899 15.8421 11.6467 15.511 12.4461C15.1799 13.2455 14.6945 13.9718 14.0827 14.5836C13.4709 15.1955 12.7446 15.6808 11.9452 16.0119C11.1458 16.343 10.289 16.5134 9.42378 16.5134ZM9.42378 4.65719C8.38542 4.65719 7.37039 4.9651 6.50703 5.54198C5.64367 6.11885 4.97077 6.93879 4.57341 7.8981C4.17605 8.85741 4.07208 9.91301 4.27465 10.9314C4.47722 11.9498 4.97724 12.8853 5.71146 13.6195C6.44569 14.3537 7.38115 14.8537 8.39955 15.0563C9.41795 15.2589 10.4736 15.1549 11.4329 14.7576C12.3922 14.3602 13.2121 13.6873 13.789 12.8239C14.3659 11.9606 14.6738 10.9455 14.6738 9.90719C14.6738 8.5148 14.1207 7.17945 13.1361 6.19488C12.1515 5.21031 10.8162 4.65719 9.42378 4.65719Z" fill="${fill}"/>
  <path d="M17.5 18.6579C17.4138 18.6583 17.3284 18.6415 17.2487 18.6085C17.1691 18.5754 17.0969 18.5268 17.0363 18.4654L13.4225 14.8517C13.3066 14.7273 13.2435 14.5627 13.2465 14.3927C13.2495 14.2227 13.3184 14.0605 13.4386 13.9403C13.5588 13.82 13.7211 13.7511 13.8911 13.7481C14.0611 13.7451 14.2256 13.8083 14.35 13.9242L17.9638 17.5379C18.0867 17.661 18.1557 17.8278 18.1557 18.0017C18.1557 18.1756 18.0867 18.3424 17.9638 18.4654C17.9032 18.5268 17.831 18.5754 17.7513 18.6085C17.6717 18.6415 17.5863 18.6583 17.5 18.6579Z" fill="${fill}"/>
</svg>

      `,
      group: ''
    },
    {
      id: 'effect-prediction',
      name: 'Mutation Effect Prediction',
      route: '/effect-prediction',
      status: ToolStatus.RUNNING,
      svgGenerator: (fill: string) => 
        `
<svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_211_10037)">
  <path d="M10.8077 10.7467C10.3114 11.3124 9.70716 11.7752 9.02702 12.1108V14.0394C9.02702 14.2099 8.95929 14.3734 8.83873 14.494C8.71817 14.6145 8.55465 14.6822 8.38416 14.6822H4.52702C4.35652 14.6822 4.19301 14.6145 4.07245 14.494C3.95189 14.3734 3.88416 14.2099 3.88416 14.0394V12.1108C2.52946 11.4346 1.49381 10.2543 0.999458 8.82321C0.505104 7.39211 0.591439 5.82424 1.23994 4.45607C1.88843 3.0879 3.04742 2.02845 4.46817 1.50508C5.88892 0.981717 7.45822 1.03614 8.8393 1.65667M3.88416 17.8567H9.02702" stroke="${fill}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M9.5079 5.55754C9.05661 5.47911 9.05661 4.83111 9.5079 4.75268C10.3069 4.61361 11.0465 4.23974 11.6322 3.67873C12.218 3.11772 12.6234 2.39499 12.7968 1.60268L12.8238 1.47668C12.9215 1.03054 13.5566 1.02797 13.6582 1.47283L13.6916 1.61811C13.8717 2.40684 14.2807 3.12478 14.8675 3.68178C15.4542 4.23878 16.1925 4.61 16.9895 4.74883C17.4433 4.82854 17.4433 5.47911 16.9895 5.55883C16.1927 5.69788 15.4547 6.06921 14.8682 6.62619C14.2818 7.18317 13.8729 7.90099 13.6929 8.68954L13.6595 8.83483C13.5579 9.27968 12.9228 9.27711 12.825 8.83097L12.7993 8.70626C12.6258 7.91359 12.22 7.19061 11.6337 6.62957C11.0475 6.06852 10.3074 5.69614 9.5079 5.55754Z" stroke="${fill}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  </g>
  <defs>
  <clipPath id="clip0_211_10037">
  <rect width="18" height="18" fill="white" transform="translate(0 0.5)"/>
  </clipPath>
  </defs>
</svg>
        `,
      group: ''
    }
  ];

  onSidebarCollapsedChange(collapsed: boolean) {
    this.sidebarCollapsed = collapsed;
  }
}
